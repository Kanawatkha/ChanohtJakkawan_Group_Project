<!DOCTYPE html>
<html lang="en" id="top">
<head>
  <meta charset="utf-8" />
  <!-- Viewport: lock zoom-out and prevent horizontal panning to mirror index -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  <title>Payment — ChanohtJakkawan</title>
  <meta name="description" content="Complete your order via QR code payment." />
  <link rel="icon" href="../assets/img/logo.png" />

  <!-- Bootstrap CSS (kept from index) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap Icons (kept) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
  <!-- Inherit site styles from index.css only (do NOT create payment.css yet) -->
  <link rel="stylesheet" href="../assets/css/index.css" />
</head>
<body class="page-payment d-flex flex-column min-vh-100">
  <!-- ===================== NAVBAR (3 links only) ===================== -->
  <header class="site-header sticky-top" aria-label="Main Navigation">
    <nav class="navbar navbar-expand-lg navbar-dark py-3" id="navbar">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="../index.html" aria-label="ChanohtJakkawan Home">
          <img src="../assets/img/logo.png" alt="Site logo" width="32" height="32" class="me-2">
          <span class="fw-bold">ChanohtJakkawan</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navMenu">
          <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">
            <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
            <li class="nav-item ms-lg-1">
              <a class="btn btn-outline-light cta-login" href="login.html">Login</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main class="flex-grow-1">
    <!-- ===================== PAYMENT HERO (plain text, no card) ===================== -->
    <section id="pay-hero" class="py-5 py-lg-6">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-10 col-xl-8 text-center">
            <h1 class="display-3 fw-bold mb-2">Congratulations</h1>
            <p class="lead text-muted-500 mb-0">Below is a sample title deed that will be delivered to your home.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ===================== DEED PREVIEW (new) ===================== -->
    <section id="deed-preview" class="py-4 py-lg-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-10 col-xl-8">
            <article class="product-card giant-card p-3 p-md-4 card-hover">
              <div class="text-center mb-4">
                <!-- REPLACED default Solar.png <img> to avoid unwanted overlay -->
                <img id="deedImage" alt="Selected object preview" class="img-fluid d-block mx-auto d-none" style="max-width: 480px; width: 100%; height: auto; object-fit: contain;" loading="lazy">
                <!-- New grid container for multiple selections -->
                <div id="deedImageGrid" class="d-flex flex-wrap justify-content-center gap-3"></div>
              </div>

              <div class="mb-2 text-center">
                <h2 id="deedTitle" class="h3 fw-bold mb-0">Solar System Title Deed</h2>
              </div>

              <div class="row g-3 mt-3">
                <div class="col-12">
                  <!-- Center on all screen sizes -->
                  <div class="d-flex flex-column align-items-center text-center">
                    <div class="fw-semibold">Name</div>
                    <div id="deedName" class="text-muted-500">—</div>
                  </div>
                </div>
                <div class="col-12">
                  <!-- Center on all screen sizes -->
                  <div class="d-flex flex-column align-items-center text-center">
                    <div class="fw-semibold">Address</div>
                    <div id="deedAddress" class="text-muted-500 text-break">—</div>
                  </div>
                </div>
                <div class="col-12">
                  <!-- Center on all screen sizes -->
                  <div class="d-flex flex-column align-items-center text-center">
                    <div class="fw-semibold">Selected Objects</div>
                    <div id="deedItems" class="text-muted-500">Solar System Set</div>
                  </div>
                </div>
                <div class="col-12 col-md-6">
                  <!-- Center on mobile, left on md+ -->
                  <div class="d-flex flex-column align-items-center text-center align-items-md-start text-md-start">
                    <div class="fw-semibold">Order No.</div>
                    <div id="deedOrderNo" class="text-muted-500">—</div>
                  </div>
                </div>
                <div class="col-12 col-md-6">
                  <!-- Center on mobile, right on md+ -->
                  <div class="d-flex flex-column align-items-center text-center align-items-md-end text-md-end">
                    <div class="fw-semibold">Issued At</div>
                    <div id="deedIssuedAt" class="text-muted-500">—</div>
                  </div>
                </div>
                <div class="col-12">
                  <hr class="opacity-10 my-3" />
                  <p id="deedCongrats" class="mb-0 text-center text-muted-500">
                    Congratulations on your cosmic ownership. This deed symbolizes your exclusive claim over the selected celestial bodies—an enduring testament to curiosity, wonder, and exploration.
                  </p>
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>

    <!-- ===================== PAYMENT CARD (centered big card) ===================== -->
    <section id="payment" class="py-5 py-lg-6">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-10 col-xl-8">
            <article class="product-card giant-card p-3 p-md-4">
              <div class="text-center mb-4">
                <h1 class="h3 fw-bold mb-2">Scan & Pay</h1>
                <p class="text-muted-500 mb-0">Use the QR code below to complete your purchase.</p>
              </div>

              <div class="product-media d-flex justify-content-center mb-4">
                <!-- Click QR to open the provided video URL -->
                <a href="https://rick.nerial.uk/video.mp4" target="=_blank" rel="noopener" aria-label="Open payment video in a new tab">
                  <img src="../assets/img/qr.png" alt="QR code for payment"
                       class="img-fluid"
                       style="max-width: 420px; width: 100%; height: auto; object-fit: contain;"
                       loading="eager">
                </a>
              </div>

              <!-- Total Price (inherited styling) -->
              <div class="d-flex flex-column align-items-center mb-4">
                <div class="h5 mb-1">Total</div>
                <div class="display-6 fw-bold" id="payTotal" aria-live="polite">—</div>
                <small class="text-muted-500">Amount carried over from your order</small>
              </div>

              <!-- Action buttons (centered; stack on mobile) -->
              <div class="payment-actions d-flex flex-column flex-md-row gap-3 justify-content-center align-items-center text-center">
                <a href="order.html" class="btn btn-outline-light btn-lg mx-auto">Back to Order</a>
                <a href="../index.html" class="btn btn-primary btn-lg hero-buy mx-auto">Finish</a>
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ===================== FOOTER (3 links only) ===================== -->
  <footer class="mt-auto pt-5 pb-4">
    <div class="container">
      <div class="row g-4">
        <div class="col-12 col-lg-4">
          <div class="d-flex align-items-center mb-3">
            <img src="../assets/img/logo.png" alt="Footer logo" width="32" height="32" class="me-2">
            <span class="fw-semibold">ChanohtJakkawan</span>
          </div>
          <p class="small mb-3">Thank you for your order. Complete the payment and enjoy your journey across the cosmos.</p>
        </div>
        <div class="col-6 col-lg-3">
          <h5 class="mb-3">Links</h5>
          <ul class="list-unstyled footer-links">
            <li><a href="../index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="login.html">Login</a></li>
          </ul>
        </div>
        <div class="col-6 col-lg-5">
          <h5 class="mb-3">Support</h5>
          <ul class="list-unstyled footer-contact">
            <li class="mb-1"><i class="bi bi-envelope me-2" aria-hidden="true"></i>
              <a class="text-break d-inline-block" style="max-width:100%" href="mailto:support@chanohtjakkawan.nft">support@chanohtjakkawan.nft</a>
            </li>
            <li><i class="bi bi-telephone me-2" aria-hidden="true"></i><a href="tel:+6612345678">+66 1 234 5678</a></li>
          </ul>
        </div>
      </div>

      <hr class="my-4 opacity-25" />
      <div class="d-flex flex-column flex-md-row align-items-center justify-content-between small">
        <span>© <span id="year"></span> ChanohtJakkawan. All rights reserved.</span>
        <ul class="list-inline mb-0">
          <li class="list-inline-item"><a href="#">Privacy</a></li>
          <li class="list-inline-item"><a href="#">Terms</a></li>
          <li class="list-inline-item"><a href="#">Contact</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- Back to Top -->
  <a href="#top" class="back-to-top" aria-label="Back to top" data-animate="scale-fade"><i class="bi bi-arrow-up-short"></i></a>

  <!-- =============== FLOATING HAMBURGER + MINI OVERLAY MENU (HTML only) =============== -->
  <button id="fabMenuBtn" class="fab-menu hide" aria-label="Open menu" aria-controls="fabMenuPanel" aria-expanded="false">
    <i class="bi bi-list"></i>
  </button>

  <nav id="fabMenuPanel" class="fab-menu-panel" role="menu" aria-hidden="true" aria-labelledby="fabMenuBtn">
    <ul class="fab-menu-list list-unstyled mb-0" role="none">
      <li role="none"><a role="menuitem" class="fab-link" href="../index.html">Home</a></li>
      <li role="none"><a role="menuitem" class="fab-link" href="about.html">About Us</a></li>
      <li role="none"><a role="menuitem" class="fab-link" href="login.html">Login</a></li>
    </ul>
  </nav>

  <!-- Bootstrap Bundle + Page JS (kept) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="../assets/js/main.js"></script>

  <!-- Placeholder hook: main.js should populate #payTotal from localStorage/order state -->
  <script>
    // Non-invasive read-only hook. Real persistence/restore logic remains in assets/js/main.js per project rules.
    (function(){
      try {
        var val = localStorage.getItem('orderTotal');
        var unit = localStorage.getItem('orderUnit'); // e.g., "Googolplexianth"
        var out = document.getElementById('payTotal');
        if (out) {
          if (val && !isNaN(Number(val))) {
            out.textContent = unit ? (Number(val) + ' ' + unit) : String(Number(val));
          } else {
            out.textContent = '—';
          }
        }
      } catch (e) { /* silent */ }
    })();
  </script>
</body>
</html>